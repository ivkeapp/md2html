<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>md2html Test - ISPRAVLJENO</title>
  <style>
    /* Osnovno stilizovanje stranice */
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
    }
    
    button {
      margin: 5px;
      padding: 10px 15px;
      border: 1px solid #ccc;
      background: white;
      cursor: pointer;
      border-radius: 4px;
    }
    
    button:hover {
      background: #f0f0f0;
    }
    
    textarea {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    /* KLJUČNO: CSS stilovi koji koriste CSS varijable za markdown sadržaj */
    #output {
      /* Osnovno */
      font-family: var(--font-family, Inter, system-ui, sans-serif);
      font-size: var(--font-size-base, 16px);
      line-height: var(--line-height, 1.6);
      color: var(--color-text, #111827);
      background-color: var(--color-surface, #f8f9fb);
      
      /* Container styling */
      border: 2px solid #ccc;
      padding: 20px;
      margin-top: 20px;
      min-height: 200px;
      border-radius: 8px;
    }

    /* Headings */
    #output h1 {
      font-size: var(--h1-size, 2rem);
      font-weight: var(--h1-weight, 700);
      color: var(--color-headings, #0f172a);
      margin-bottom: var(--spacing-block, 1.5rem);
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--color-border, #e5e7eb);
    }

    #output h2 {
      font-size: var(--h2-size, 1.5rem);
      font-weight: var(--h2-weight, 600);
      color: var(--color-headings, #0f172a);
      margin-top: var(--spacing-block, 1.5rem);
      margin-bottom: var(--spacing-paragraph, 1rem);
    }

    #output h3 {
      font-size: var(--h3-size, 1.25rem);
      font-weight: var(--h3-weight, 600);
      color: var(--color-headings, #0f172a);
      margin-top: var(--spacing-block, 1.5rem);
      margin-bottom: var(--spacing-paragraph, 1rem);
    }

    #output h4 {
      font-size: var(--h4-size, 1rem);
      font-weight: var(--h4-weight, 600);
      color: var(--color-headings, #0f172a);
      margin-top: var(--spacing-paragraph, 1rem);
      margin-bottom: var(--spacing-paragraph, 1rem);
    }

    /* Paragraphs */
    #output p {
      margin-bottom: var(--spacing-paragraph, 1rem);
    }

    /* Links */
    #output a {
      color: var(--color-links, #1d4ed8);
      text-decoration: none;
      border-bottom: 1px solid transparent;
      transition: all 0.2s;
    }

    #output a:hover {
      color: var(--color-links-hover, #1e40af);
      border-bottom-color: var(--color-links-hover, #1e40af);
    }

    /* Text formatting */
    #output strong {
      font-weight: 600;
    }

    #output em {
      font-style: italic;
    }

    /* Code */
    #output code {
      font-family: var(--code-font-family, 'Courier New', monospace);
      font-size: var(--code-font-size, 0.95rem);
      background: var(--color-inline-code-bg, #e5e7eb);
      color: var(--color-inline-code-text, #374151);
      padding: 0.2em 0.4em;
      border-radius: 0.25rem;
    }

    #output pre {
      background: var(--color-code-bg, #0b1220);
      color: var(--color-code-text, #e6edf3);
      padding: var(--code-block-padding, 1rem);
      border-radius: var(--code-border-radius, 0.375rem);
      overflow-x: auto;
      margin-bottom: var(--spacing-block, 1.5rem);
      line-height: var(--code-line-height, 1.5);
    }

    #output pre code {
      background: none;
      color: inherit;
      padding: 0;
    }

    /* Lists */
    #output ul, #output ol {
      margin-bottom: var(--spacing-block, 1.5rem);
      padding-left: var(--list-nested-indent, 1.5rem);
    }

    #output ul {
      list-style-type: var(--list-bullet-style, disc);
    }

    #output ol {
      list-style-type: var(--list-ordered-style, decimal);
    }

    #output li {
      margin-bottom: var(--spacing-list, 0.5rem);
    }

    /* Blockquotes */
    #output blockquote {
      border-left: 4px solid var(--color-blockquote-border, #d1d5db);
      background: var(--color-blockquote-bg, #f9fafb);
      padding: 1rem 1.5rem;
      margin: var(--spacing-block, 1.5rem) 0;
      font-style: italic;
    }

    /* Tables */
    #output table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--spacing-block, 1.5rem);
    }

    #output thead {
      background: var(--color-table-header, #eef2ff);
    }

    #output th, #output td {
      padding: var(--table-cell-padding, 0.75rem);
      border: var(--table-border-width, 1px) var(--table-border-style, solid) var(--color-border, #e5e7eb);
      text-align: left;
    }

    #output th {
      font-weight: 600;
    }

    #output tbody tr:nth-child(even) {
      background: var(--color-table-row-alt, #f9fafb);
    }

    #output tbody tr:nth-child(odd) {
      background: var(--color-table-row, #ffffff);
    }
  </style>
</head>
<body>
  <h1>Test md2html Package - ISPRAVLJENO</h1>
  
  <textarea id="input" rows="10" cols="80">
# Test naslov

Ovo je **podebljan** tekst i ovo je *italic* tekst.

## Podneslov

- Stavka 1  
- Stavka 2

### Kod primer

```javascript
console.log('Hello World!');
```

> Ovo je blockquote

| Kolona 1 | Kolona 2 |
|----------|----------|
| Data 1   | Data 2   |
  </textarea>
  
  <br><br>
  <button id="convert">Konvertuj u HTML</button>
  <button id="theme-light">Light tema</button>
  <button id="theme-dark">Dark tema</button>
  
  <div id="output"></div>
  
  <!-- Učitaj sa CDN -->
  <script src="https://unpkg.com/md2html-themes@latest/dist/md2html.min.js"></script>
  
  <script>
    document.getElementById('convert').addEventListener('click', async () => {
      const markdown = document.getElementById('input').value;
      const result = await window.md2html.parse(markdown);
      const outputDiv = document.getElementById('output');
      outputDiv.innerHTML = result.html;
      
      // Odmah primeni light theme
      window.md2html.applyTheme(window.md2html.themes.light, outputDiv);
    });

    document.getElementById('theme-light').addEventListener('click', () => {
      const outputDiv = document.getElementById('output');
      window.md2html.applyTheme(window.md2html.themes.light, outputDiv);
    });

    document.getElementById('theme-dark').addEventListener('click', () => {
      const outputDiv = document.getElementById('output');
      window.md2html.applyTheme(window.md2html.themes.dark, outputDiv);
    });

    // Automatski konvertuj početni sadržaj
    window.addEventListener('load', async () => {
      // Daj malo vremena da se učita script
      setTimeout(async () => {
        const markdown = document.getElementById('input').value;
        const result = await window.md2html.parse(markdown);
        const outputDiv = document.getElementById('output');
        outputDiv.innerHTML = result.html;
        window.md2html.applyTheme(window.md2html.themes.light, outputDiv);
      }, 100);
    });
  </script>
</body>
</html>